(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e5060"],{"935e":function(e,s,r){"use strict";r.r(s);var t=function(){var e=this,s=e.$createElement,r=e._self._c||s;return r("v-card",{staticClass:"mx-3 mt-5"},[r("v-alert",{attrs:{dismissible:"",type:e.msgType,value:e.msgShow}},[e._v(e._s(e.msg))]),r("v-card-title",{staticClass:"d-flex justify-center"},[e._v("欢迎注册")]),r("v-card-text",[r("form",{attrs:{"lazy-validation":""}},[r("v-text-field",{attrs:{"error-messages":e.nameErrors,counter:10,label:"用户名",required:""},on:{blur:function(s){return e.$v.name.$touch()}},model:{value:e.name,callback:function(s){e.name="string"===typeof s?s.trim():s},expression:"name"}}),r("v-text-field",{attrs:{"error-messages":e.emailErrors,label:"邮件地址",required:""},on:{blur:function(s){return e.$v.email.$touch()}},model:{value:e.email,callback:function(s){e.email="string"===typeof s?s.trim():s},expression:"email"}}),r("v-text-field",{attrs:{"error-messages":e.passwordErrors,"append-icon":e.showpassword?"mdi-eye":"mdi-eye-off",type:e.showpassword?"text":"password",label:"密码",required:""},on:{blur:function(s){return e.$v.password.$touch()},"click:append":function(s){e.showpassword=!e.showpassword}},model:{value:e.password,callback:function(s){e.password="string"===typeof s?s.trim():s},expression:"password"}}),r("v-text-field",{attrs:{"error-messages":e.repasswordErrors,"append-icon":e.showrepassword?"mdi-eye":"mdi-eye-off",type:e.showrepassword?"text":"password",label:"确认密码",required:""},on:{blur:function(s){return e.$v.repassword.$touch()},"click:append":function(s){e.showrepassword=!e.showrepassword}},model:{value:e.repassword,callback:function(s){e.repassword="string"===typeof s?s.trim():s},expression:"repassword"}}),r("v-row",[r("v-col",{staticClass:"d-flex justify-center"},[r("v-btn",{staticClass:"mr-4",attrs:{color:"success"},on:{click:e.register}},[e._v("提交")]),r("v-btn",{attrs:{color:"error"},on:{click:e.clear}},[e._v("清除")])],1)],1)],1)])],1)},a=[],i=(r("b0c0"),r("1dce")),o=r("b5ae"),n=(r("e8ec"),{mixins:[i["validationMixin"]],validations:{name:{required:o["required"],maxLength:Object(o["maxLength"])(10),minLength:Object(o["minLength"])(3),alphaNum:o["alphaNum"]},email:{required:o["required"],email:o["email"]},password:{required:o["required"],maxLength:Object(o["maxLength"])(16),minLength:Object(o["minLength"])(6)},repassword:{required:o["required"],maxLength:Object(o["maxLength"])(16),minLength:Object(o["minLength"])(6)}},data:function(){return{name:"",email:"",password:"",repassword:"",showpassword:!1,showrepassword:!1}},computed:{nameErrors:function(){var e=[];return this.$v.name.$dirty?(!this.$v.name.alphaNum&&e.push("用户名必须字母或数字"),!this.$v.name.maxLength&&e.push("用户名最长10个字符串"),!this.$v.name.minLength&&e.push("用户名最短3个字符串"),!this.$v.name.required&&e.push("用户名必填"),e):e},emailErrors:function(){var e=[];return this.$v.email.$dirty?(!this.$v.email.email&&e.push("邮件地址格式必须正确"),!this.$v.email.required&&e.push("邮件地址必填"),e):e},passwordErrors:function(){var e=[];return this.$v.password.$dirty?(!this.$v.password.maxLength&&e.push("密码最长16个字符串"),!this.$v.password.minLength&&e.push("密码最短6个字符串"),!this.$v.password.required&&e.push("密码必填"),e):e},repasswordErrors:function(){var e=[];return this.$v.repassword.$dirty?(this.$v.password.$model!==this.$v.repassword.$model&&e.push("输入的该项不匹配"),e):e}},methods:{register:function(){var e=this;this.$v.$touch(),this.$v.$error||this.$nextTick((function(){e.submit()}))},submit:function(){var e=this,s={username:this.name,email:this.email,password:this.password,avatar:"https://api.adorable.io/avatars/200/".concat(this.name,".png")};this.axios.post("http://127.0.0.1:8000/api/account/register/",s).then((function(s){e.axios.defaults.headers.common["Authorization"]="JWT "+s.data.data.token,e.login(s.data.data)})).catch((function(s){"400"==s.response.status?(e.$store.dispatch("updateAlter",{msg:s.response.data.msg,msgType:"error",msgShow:!0}),e.timer=setTimeout((function(){e.$store.dispatch("updateAlter",{msgShow:!1})}),3300)):(e.$store.dispatch("updateAlter",{msg:"网络错误",msgType:"error",msgShow:!0}),e.timer=setTimeout((function(){e.$store.dispatch("updateAlter",{msgShow:!1})}),3300))}))},clear:function(){this.$v.$reset(),this.name="",this.email="",this.password="",this.repassword=""},login:function(e){this.$store.dispatch("login",e)}}}),d=n,u=r("2877"),m=r("6544"),l=r.n(m),p=r("0798"),c=r("8336"),h=r("b0af"),w=r("99d9"),v=r("62ad"),f=r("0fd9"),g=r("8654"),$=Object(u["a"])(d,t,a,!1,null,null,null);s["default"]=$.exports;l()($,{VAlert:p["a"],VBtn:c["a"],VCard:h["a"],VCardText:w["c"],VCardTitle:w["d"],VCol:v["a"],VRow:f["a"],VTextField:g["a"]})}}]);
//# sourceMappingURL=chunk-2d0e5060.8f57255d.js.map