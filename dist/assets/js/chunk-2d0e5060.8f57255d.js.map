{"version":3,"sources":["webpack:///./src/views/auth/Register.vue?2180","webpack:///src/views/auth/Register.vue","webpack:///./src/views/auth/Register.vue?6b25","webpack:///./src/views/auth/Register.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","msgType","msgShow","_v","_s","msg","nameErrors","on","$event","$v","name","$touch","model","value","callback","$$v","trim","expression","emailErrors","email","passwordErrors","showpassword","password","repasswordErrors","showrepassword","repassword","register","clear","staticRenderFns","component","VAlert","VBtn","VCard","VCardText","VCardTitle","VCol","VRow","VTextField"],"mappings":"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","file":"assets/js/chunk-2d0e5060.8f57255d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"mx-3 mt-5\"},[_c('v-alert',{attrs:{\"dismissible\":\"\",\"type\":_vm.msgType,\"value\":_vm.msgShow}},[_vm._v(_vm._s(_vm.msg))]),_c('v-card-title',{staticClass:\"d-flex justify-center\"},[_vm._v(\"欢迎注册\")]),_c('v-card-text',[_c('form',{attrs:{\"lazy-validation\":\"\"}},[_c('v-text-field',{attrs:{\"error-messages\":_vm.nameErrors,\"counter\":10,\"label\":\"用户名\",\"required\":\"\"},on:{\"blur\":function($event){return _vm.$v.name.$touch()}},model:{value:(_vm.name),callback:function ($$v) {_vm.name=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"name\"}}),_c('v-text-field',{attrs:{\"error-messages\":_vm.emailErrors,\"label\":\"邮件地址\",\"required\":\"\"},on:{\"blur\":function($event){return _vm.$v.email.$touch()}},model:{value:(_vm.email),callback:function ($$v) {_vm.email=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"email\"}}),_c('v-text-field',{attrs:{\"error-messages\":_vm.passwordErrors,\"append-icon\":_vm.showpassword? 'mdi-eye' : 'mdi-eye-off',\"type\":_vm.showpassword? 'text':'password',\"label\":\"密码\",\"required\":\"\"},on:{\"blur\":function($event){return _vm.$v.password.$touch()},\"click:append\":function($event){_vm.showpassword = !_vm.showpassword}},model:{value:(_vm.password),callback:function ($$v) {_vm.password=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"password\"}}),_c('v-text-field',{attrs:{\"error-messages\":_vm.repasswordErrors,\"append-icon\":_vm.showrepassword? 'mdi-eye' : 'mdi-eye-off',\"type\":_vm.showrepassword? 'text':'password',\"label\":\"确认密码\",\"required\":\"\"},on:{\"blur\":function($event){return _vm.$v.repassword.$touch()},\"click:append\":function($event){_vm.showrepassword = !_vm.showrepassword}},model:{value:(_vm.repassword),callback:function ($$v) {_vm.repassword=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"repassword\"}}),_c('v-row',[_c('v-col',{staticClass:\"d-flex justify-center\"},[_c('v-btn',{staticClass:\"mr-4\",attrs:{\"color\":\"success\"},on:{\"click\":_vm.register}},[_vm._v(\"提交\")]),_c('v-btn',{attrs:{\"color\":\"error\"},on:{\"click\":_vm.clear}},[_vm._v(\"清除\")])],1)],1)],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\n   <v-card\n    class=\"mx-3 mt-5\"\n   >\n   <v-alert dismissible  :type=\"msgType\" :value=\"msgShow\">{{msg}}</v-alert>\n\n   <v-card-title class=\"d-flex justify-center\">欢迎注册</v-card-title>\n   <v-card-text> \n        <form\n        lazy-validation\n        >\n            <v-text-field\n                v-model.trim=\"name\"\n                :error-messages=\"nameErrors\"\n                :counter=\"10\"\n                label=\"用户名\"\n                required\n                @blur=\"$v.name.$touch()\"\n            ></v-text-field>\n\n            <v-text-field\n                v-model.trim=\"email\"\n                :error-messages=\"emailErrors\"\n                label=\"邮件地址\"\n                required\n                @blur=\"$v.email.$touch()\"\n            ></v-text-field>\n\n            <v-text-field\n                v-model.trim=\"password\"\n                :error-messages=\"passwordErrors\"\n                :append-icon=\"showpassword? 'mdi-eye' : 'mdi-eye-off'\"\n                :type=\"showpassword? 'text':'password'\"\n                label=\"密码\"\n                required\n                @blur=\"$v.password.$touch()\"\n                @click:append='showpassword = !showpassword'\n            ></v-text-field>\n\n            <v-text-field\n                v-model.trim=\"repassword\"\n                :error-messages=\"repasswordErrors\"\n                :append-icon=\"showrepassword? 'mdi-eye' : 'mdi-eye-off'\"\n                :type=\"showrepassword? 'text':'password'\"\n                label=\"确认密码\"\n                required\n                @blur=\"$v.repassword.$touch()\"\n                @click:append='showrepassword = !showrepassword'\n            ></v-text-field>\n\n            <v-row>\n                <v-col class=\"d-flex justify-center\">\n                    <v-btn class=\"mr-4\" @click=\"register\" color=\"success\">提交</v-btn>\n                    <v-btn  @click=\"clear\" color=\"error\">清除</v-btn>\n                </v-col>\n            </v-row>\n                \n        </form>\n     </v-card-text>\n   </v-card>\n</template>\n\n<script>\n  import { validationMixin } from 'vuelidate'\n  import { required, maxLength, minLength, alphaNum, email } from 'vuelidate/lib/validators'\n  import ls from '@/utils/localStorage'\n\n  export default {\n    mixins: [validationMixin],\n\n    validations: {\n      name: { required, maxLength: maxLength(10), minLength: minLength(3), alphaNum },\n      email: { required, email },\n      password: {required, maxLength: maxLength(16), minLength: minLength(6)},\n      repassword: {required, maxLength: maxLength(16), minLength: minLength(6)}\n    },\n\n    data: () => ({\n      name: '',\n      email: '',\n      password:'',\n      repassword:'',\n      showpassword:false,\n      showrepassword:false,\n    }),\n\n    computed: {\n      nameErrors () {\n        const errors = []\n        if (!this.$v.name.$dirty) return errors\n        !this.$v.name.alphaNum && errors.push('用户名必须字母或数字')\n        !this.$v.name.maxLength && errors.push('用户名最长10个字符串')\n        !this.$v.name.minLength && errors.push('用户名最短3个字符串')      \n        !this.$v.name.required && errors.push('用户名必填')\n        return errors\n      },\n      emailErrors () {\n        const errors = []\n        if (!this.$v.email.$dirty) return errors\n        !this.$v.email.email && errors.push('邮件地址格式必须正确')\n        !this.$v.email.required && errors.push('邮件地址必填')\n        return errors\n      },\n      passwordErrors(){\n        const errors = []\n        if(!this.$v.password.$dirty) return errors\n        !this.$v.password.maxLength && errors.push('密码最长16个字符串')\n        !this.$v.password.minLength && errors.push('密码最短6个字符串')      \n        !this.$v.password.required && errors.push('密码必填')\n        return errors\n      },\n      repasswordErrors(){\n        const errors = []\n        if(!this.$v.repassword.$dirty) return errors\n        !(this.$v.password.$model===this.$v.repassword.$model) && errors.push('输入的该项不匹配')\n        return errors\n      }\n    },\n\n    methods: {\n      register(){\n        this.$v.$touch()\n        if(!this.$v.$error){\n          this.$nextTick(()=>{\n            this.submit()\n          })\n        }\n      },\n      submit () {\n        const user = {\n            username: this.name,\n            email: this.email,\n            password: this.password,\n            avatar: `https://api.adorable.io/avatars/200/${this.name}.png` \n        }\n\n        this.axios.post(process.env.VUE_APP_APIURL+'/account/register/', user).then((response) => {\n          this.axios.defaults.headers.common['Authorization'] = 'JWT '+ response.data.data.token\n          this.login(response.data.data)\n        }).catch( (error) => {\n          if(error.response.status=='400'){\n            this.$store.dispatch('updateAlter',{msg:error.response.data.msg, msgType:'error', msgShow:true})\n            this.timer = setTimeout(() => {this.$store.dispatch('updateAlter',{msgShow:false}) }, 3300)\n          }else{\n            this.$store.dispatch('updateAlter',{msg:'网络错误', msgType:'error', msgShow:true})\n            this.timer = setTimeout(() => {this.$store.dispatch('updateAlter',{msgShow:false}) }, 3300)\n          }\n        })\n      },\n      clear () {\n        this.$v.$reset()\n        this.name = ''\n        this.email = ''\n        this.password = ''\n        this.repassword = ''\n      },\n      login(user){\n          this.$store.dispatch('login', user)\n      },\n    },\n  }\n</script>\n\n<style>\n\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Register.vue?vue&type=template&id=bff26b5c&\"\nimport script from \"./Register.vue?vue&type=script&lang=js&\"\nexport * from \"./Register.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAlert,VBtn,VCard,VCardText,VCardTitle,VCol,VRow,VTextField})\n"],"sourceRoot":""}