(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c8d9ed8"],{"62ad":function(e,t,r){"use strict";r("a4d3"),r("4de4"),r("4160"),r("caad"),r("13d5"),r("45fc"),r("4ec9"),r("a9e3"),r("e439"),r("dbb4"),r("b64b"),r("d3b7"),r("ac1f"),r("3ca3"),r("5319"),r("2ca0"),r("159b"),r("ddb0");var s=r("ade3"),o=(r("4b85"),r("2b0e")),a=r("d9f7"),n=r("80d2");function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d=["sm","md","lg","xl"],u=function(){return d.reduce((function(e,t){return e[t]={type:[Boolean,String,Number],default:!1},e}),{})}(),l=function(){return d.reduce((function(e,t){return e["offset"+Object(n["x"])(t)]={type:[String,Number],default:null},e}),{})}(),p=function(){return d.reduce((function(e,t){return e["order"+Object(n["x"])(t)]={type:[String,Number],default:null},e}),{})}(),m={col:Object.keys(u),offset:Object.keys(l),order:Object.keys(p)};function h(e,t,r){var s=e;if(null!=r&&!1!==r){if(t){var o=t.replace(e,"");s+="-".concat(o)}return"col"!==e||""!==r&&!0!==r?(s+="-".concat(r),s.toLowerCase()):s.toLowerCase()}}var f=new Map;t["a"]=o["a"].extend({name:"v-col",functional:!0,props:c({cols:{type:[Boolean,String,Number],default:!1}},u,{offset:{type:[String,Number],default:null}},l,{order:{type:[String,Number],default:null}},p,{alignSelf:{type:String,default:null,validator:function(e){return["auto","start","end","center","baseline","stretch"].includes(e)}},tag:{type:String,default:"div"}}),render:function(e,t){var r=t.props,o=t.data,n=t.children,i=(t.parent,"");for(var c in r)i+=String(r[c]);var d=f.get(i);return d||function(){var e,t;for(t in d=[],m)m[t].forEach((function(e){var s=r[e],o=h(t,e,s);o&&d.push(o)}));var o=d.some((function(e){return e.startsWith("col-")}));d.push((e={col:!o||!r.cols},Object(s["a"])(e,"col-".concat(r.cols),r.cols),Object(s["a"])(e,"offset-".concat(r.offset),r.offset),Object(s["a"])(e,"order-".concat(r.order),r.order),Object(s["a"])(e,"align-self-".concat(r.alignSelf),r.alignSelf),e)),f.set(i,d)}(),e(r.tag,Object(a["a"])(o,{class:d}),n)}})},"935e":function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{staticClass:"mx-3 mt-4"},[r("v-card-title",{staticClass:"d-flex justify-center"},[e._v("欢迎注册")]),r("v-card-text",[r("form",{attrs:{"lazy-validation":""}},[r("v-text-field",{attrs:{"error-messages":e.nameErrors,counter:10,label:"用户名",required:"",clearable:""},on:{blur:function(t){return e.$v.name.$touch()}},model:{value:e.name,callback:function(t){e.name="string"===typeof t?t.trim():t},expression:"name"}}),r("v-text-field",{attrs:{"error-messages":e.emailErrors,label:"邮件地址",required:"",clearable:""},on:{blur:function(t){return e.$v.email.$touch()}},model:{value:e.email,callback:function(t){e.email="string"===typeof t?t.trim():t},expression:"email"}}),r("v-row",[r("v-col",{attrs:{cols:"8"}},[r("v-text-field",{attrs:{"error-messages":e.codeErrors,counter:6,label:"验证码",required:""},on:{blur:function(t){return e.$v.code.$touch()}},model:{value:e.code,callback:function(t){e.code="string"===typeof t?t.trim():t},expression:"code"}})],1),r("v-col",{attrs:{cols:"2"}},[e.isShowGetCode?r("v-btn",{staticClass:"identiCode",staticStyle:{top:"12px"},attrs:{color:"success"},on:{click:e.getIdentifyCode}},[e._v("获取")]):r("v-btn",{staticClass:"identiCode cancel-pointer",staticStyle:{top:"12px"}},[e._v(e._s(e.countdown)+"s")])],1)],1),r("v-text-field",{attrs:{"error-messages":e.passwordErrors,"append-icon":e.showpassword?"mdi-eye":"mdi-eye-off",type:e.showpassword?"text":"password",label:"密码",required:""},on:{blur:function(t){return e.$v.password.$touch()},"click:append":function(t){e.showpassword=!e.showpassword}},model:{value:e.password,callback:function(t){e.password="string"===typeof t?t.trim():t},expression:"password"}}),r("v-text-field",{attrs:{"error-messages":e.repasswordErrors,"append-icon":e.showrepassword?"mdi-eye":"mdi-eye-off",type:e.showrepassword?"text":"password",label:"确认密码",required:""},on:{blur:function(t){return e.$v.repassword.$touch()},"click:append":function(t){e.showrepassword=!e.showrepassword}},model:{value:e.repassword,callback:function(t){e.repassword="string"===typeof t?t.trim():t},expression:"repassword"}}),r("v-row",[r("v-col",{staticClass:"d-flex justify-center"},[r("v-btn",{staticClass:"mr-4",attrs:{large:"",color:"success"},on:{click:e.register}},[e._v("提交")]),r("v-btn",{attrs:{large:"",color:"error"},on:{click:e.clear}},[e._v("清除")])],1)],1)],1)])],1)},o=[],a=(r("b0c0"),r("1dce")),n=r("b5ae"),i={mixins:[a["validationMixin"]],validations:{name:{required:n["required"],maxLength:Object(n["maxLength"])(10),minLength:Object(n["minLength"])(3),alphaNum:n["alphaNum"]},password:{required:n["required"],maxLength:Object(n["maxLength"])(16),minLength:Object(n["minLength"])(6)},repassword:{required:n["required"],sameAsPassword:Object(n["sameAs"])("password")},email:{required:n["required"],email:n["email"]},code:{required:n["required"],numeric:n["numeric"]}},data:function(){return{name:"",password:"",repassword:"",showpassword:!1,showrepassword:!1,email:"",code:"",countdown:30,timer:null,isShowGetCode:!0}},created:function(){},computed:{nameErrors:function(){var e=[];return this.$v.name.$dirty?(!this.$v.name.alphaNum&&e.push("用户名必须字母或数字"),!this.$v.name.maxLength&&e.push("用户名最长10个字符串"),!this.$v.name.minLength&&e.push("用户名最短3个字符串"),!this.$v.name.required&&e.push("用户名必填"),e):e},passwordErrors:function(){var e=[];return this.$v.password.$dirty?(!this.$v.password.maxLength&&e.push("密码最长16个字符串"),!this.$v.password.minLength&&e.push("密码最短6个字符串"),!this.$v.password.required&&e.push("密码必填"),e):e},repasswordErrors:function(){var e=[];return this.$v.repassword.$dirty?(!this.$v.repassword.sameAsPassword&&e.push("输入的该项不匹配"),e):e},emailErrors:function(){var e=[];return this.$v.email.$dirty?(!this.$v.email.email&&e.push("邮件地址格式必须正确"),!this.$v.email.required&&e.push("邮件地址必填"),e):e},codeErrors:function(){var e=[];return this.$v.code.$dirty?(!this.$v.code.numeric&&e.push("验证码必须数字"),!this.$v.code.required&&e.push("验证码必填"),e):e}},methods:{register:function(){var e=this;this.$v.$touch(),this.$v.$error||this.$nextTick((function(){e.submit()}))},submit:function(){var e=this,t={username:this.name,email:this.email,code:this.code,password:this.password,avatar:"https://api.adorable.io/avatars/200/".concat(this.name,".png")};this.axios.post("'https://xn--m83a.top/api',/account/register/",t).then((function(t){e.axios.defaults.headers.common["Authorization"]="JWT "+t.data.data.token,e.login(t.data.data)})).catch((function(t){"400"==t.response.status?e.$store.dispatch("updateAlter",{msg:t.response.data.msg,msgType:"error",msgShow:!0}):e.$store.dispatch("updateAlter",{msg:"网络错误",msgType:"error",msgShow:!0})}))},clear:function(){this.$v.$reset(),this.name="",this.password="",this.repassword=""},login:function(e){this.$store.dispatch("login",e)},getIdentifyCode:function(){this.$v.email.$touch(),this.$v.email.$error||(this.emailcodesend(),this.countDown(),this.isShowGetCode=!1)},countDown:function(){var e=this;this.timer=setInterval((function(){e.countdown--,0===e.countdown&&(clearInterval(e.timer),e.countdown=30,e.isShowGetCode=!0)}),1e3)},emailcodesend:function(){var e=this;this.axios.post("/account/emailcodesend",{email:this.email}).then((function(t){e.$store.dispatch("updateAlter",{msg:t.data.msg,msgType:"success",msgShow:!0})})).catch((function(t){e.$store.dispatch("updateAlter",{msg:t.response.data.msg||t,msgType:"error",msgShow:!0})}))}}},c=i,d=r("2877"),u=r("6544"),l=r.n(u),p=r("8336"),m=r("b0af"),h=r("99d9"),f=r("62ad"),v=r("0fd9"),w=r("8654"),b=Object(d["a"])(c,s,o,!1,null,null,null);t["default"]=b.exports;l()(b,{VBtn:p["a"],VCard:m["a"],VCardText:h["c"],VCardTitle:h["d"],VCol:f["a"],VRow:v["a"],VTextField:w["a"]})}}]);
//# sourceMappingURL=chunk-2c8d9ed8.23a12ad4.js.map