(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-78d00fd2"],{"4ca6":function(t,e,o){"use strict";o("a4d3"),o("4de4"),o("4160"),o("a9e3"),o("e439"),o("dbb4"),o("b64b"),o("159b");var a=o("15fd"),r=o("ade3"),i=(o("ff44"),o("132d")),s=o("a9ad"),n=o("7560"),l=o("f2e7"),u=o("f40d"),c=o("fe6c"),f=o("58df"),d=o("80d2");function h(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,a)}return o}function p(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?h(Object(o),!0).forEach((function(e){Object(r["a"])(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):h(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}e["a"]=Object(f["a"])(s["a"],Object(c["b"])(["left","bottom"]),n["a"],l["a"],u["a"]).extend({name:"v-badge",props:{avatar:Boolean,bordered:Boolean,color:{type:String,default:"primary"},content:{required:!1},dot:Boolean,label:{type:String,default:"$vuetify.badge"},icon:String,inline:Boolean,offsetX:[Number,String],offsetY:[Number,String],overlap:Boolean,tile:Boolean,transition:{type:String,default:"scale-rotate-transition"},value:{default:!0}},computed:{classes:function(){return p({"v-badge--avatar":this.avatar,"v-badge--bordered":this.bordered,"v-badge--bottom":this.bottom,"v-badge--dot":this.dot,"v-badge--icon":null!=this.icon,"v-badge--inline":this.inline,"v-badge--left":this.left,"v-badge--overlap":this.overlap,"v-badge--tile":this.tile},this.themeClasses)},computedBottom:function(){return this.bottom?"auto":this.computedYOffset},computedLeft:function(){return this.isRtl?this.left?this.computedXOffset:"auto":this.left?"auto":this.computedXOffset},computedRight:function(){return this.isRtl?this.left?"auto":this.computedXOffset:this.left?this.computedXOffset:"auto"},computedTop:function(){return this.bottom?this.computedYOffset:"auto"},computedXOffset:function(){return this.calcPosition(this.offsetX)},computedYOffset:function(){return this.calcPosition(this.offsetY)},isRtl:function(){return this.$vuetify.rtl},offset:function(){return this.overlap?this.dot?8:12:this.dot?2:4},styles:function(){return this.inline?{}:{bottom:this.computedBottom,left:this.computedLeft,right:this.computedRight,top:this.computedTop}}},methods:{calcPosition:function(t){return"calc(100% - ".concat(Object(d["d"])(t||this.offset),")")},genBadge:function(){var t=this.$vuetify.lang,e=this.$attrs["aria-label"]||t.t(this.label),o=this.setBackgroundColor(this.color,{staticClass:"v-badge__badge",style:this.styles,attrs:{"aria-atomic":this.$attrs["aria-atomic"]||"true","aria-label":e,"aria-live":this.$attrs["aria-live"]||"polite",title:this.$attrs.title,role:this.$attrs.role||"status"},directives:[{name:"show",value:this.isActive}]}),a=this.$createElement("span",o,[this.genBadgeContent()]);return this.transition?this.$createElement("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[a]):a},genBadgeContent:function(){if(!this.dot){var t=Object(d["l"])(this,"badge");return t||(this.content?String(this.content):this.icon?this.$createElement(i["a"],this.icon):void 0)}},genBadgeWrapper:function(){return this.$createElement("span",{staticClass:"v-badge__wrapper"},[this.genBadge()])}},render:function(t){var e=[this.genBadgeWrapper()],o=[Object(d["l"])(this)],r=this.$attrs,i=(r["aria-atomic"],r["aria-label"],r["aria-live"],r.role,r.title,Object(a["a"])(r,["aria-atomic","aria-label","aria-live","role","title"]));return this.inline&&this.left?o.unshift(e):o.push(e),t("span",{staticClass:"v-badge",attrs:i,class:this.classes},o)}})},"5fac":function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-card",{attrs:{elevation:"0"}},[o("SelfHeader",{attrs:{id:t.uid,avatar:t.uavatar,author:t.uname,follow:t.follow,auth:t.auth,authUserid:t.user.userinfo.id,followers:t.followerNum,followees:t.followeeNum},on:{followyou:t.followyou,enterfollower:t.enterfollower,enterfollowee:t.enterfollowee}}),o("v-card-text",{staticClass:"subtitle-1",staticStyle:{"padding-bottom":"0"}},[t.cards.length?o("v-badge",{attrs:{color:"green",content:t.cards.length}},[t._v(t._s(t.auth&&t.uid===t.user.userinfo.id?"你":"他")+"の游记")]):o("v-badge",{attrs:{color:"green",content:"0"}},[t._v(t._s(t.auth&&t.uid===t.user.userinfo.id?"你":"他")+"の游记")])],1),t._l(t.cards,(function(t){return o("HomeCard",{key:t.id,attrs:{card:t,id:t.id,img:t.pic,title:t.title,subtitle:t.date,avatar:t.userprofile.avatar,author:t.userprofile.username,uid:t.userprofile.id,avatarhidden:!0}})}))],2)},r=[],i=(o("a4d3"),o("4de4"),o("4160"),o("b0c0"),o("e439"),o("dbb4"),o("b64b"),o("159b"),o("ade3")),s=o("2f62"),n=o("08dd"),l=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-card",{staticStyle:{margin:"0 auto"},attrs:{elevation:"0","max-width":"720px"}},[o("v-img",{attrs:{src:t.bgimg,height:"40vh",gradient:"to right, rgba(0, 0, 0, 0.5) 0%, transparent"}},[o("v-card-text",[o("v-row",[o("v-col",{attrs:{cols:"4"}},[o("div",{staticClass:"mt-2 float-right",staticStyle:{color:"white"},on:{click:t.enterfollower}},[o("div",{staticClass:"headline font-weight-light d-flex justify-center"},[t._v(t._s(t.followers))]),o("div",{staticClass:"d-flex justify-center"},[t._v("粉丝")])])]),o("v-col",{staticClass:"d-flex justify-center",attrs:{cols:"4"}},[o("v-btn",{attrs:{icon:""}},[o("v-avatar",{attrs:{size:"60"}},[o("img",{attrs:{src:t.avatar,alt:""}})])],1)],1),o("v-col",{attrs:{cols:"4"}},[o("div",{staticClass:"mt-2 float-left",staticStyle:{color:"white"},on:{click:t.enterfollowee}},[o("div",{staticClass:"headline font-weight-light d-flex justify-center"},[t._v(t._s(t.followees))]),o("div",{staticClass:"d-flex justify-center"},[t._v("关注")])])])],1),o("v-row",[o("v-col",{staticClass:"d-flex justify-center title pt-2 white--text"},[t._v(t._s(t.author))])],1),o("v-row",{directives:[{name:"show",rawName:"v-show",value:!(t.auth&&t.id===t.authUserid),expression:"!(auth && id === authUserid)"}]},[o("v-col",{staticClass:"d-flex justify-center"},[t.auth&&t.follow?o("v-btn",{staticStyle:{color:"white"},attrs:{rounded:"",width:"100",outlined:""},on:{click:t.followyou}},[t._v("已关注")]):o("v-btn",{attrs:{rounded:"",width:"100"},on:{click:t.followyou}},[t._v("关注")])],1)],1)],1)],1)],1)},u=[],c=(o("a9e3"),{props:{id:{type:Number,required:!0},avatar:{type:String,required:!0},author:{type:String,required:!0},follow:{type:Boolean,required:!0},auth:{type:Boolean,required:!0},authUserid:{type:Number,required:!1},followers:{type:Number,required:!0},followees:{type:Number,required:!0}},data:function(){return{bgimg:"".concat("https://xn--m83a.top/media/","img/bg.jpg")}},methods:{followyou:function(){this.$emit("followyou")},enterfollower:function(){this.$emit("enterfollower")},enterfollowee:function(){this.$emit("enterfollowee")}}}),f=c,d=o("2877"),h=o("6544"),p=o.n(h),m=o("8212"),v=o("8336"),g=o("b0af"),b=o("99d9"),w=o("62ad"),y=o("adda"),O=o("0fd9"),j=Object(d["a"])(f,l,u,!1,null,null,null),$=j.exports;function _(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,a)}return o}function x(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?_(Object(o),!0).forEach((function(e){Object(i["a"])(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):_(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}p()(j,{VAvatar:m["a"],VBtn:v["a"],VCard:g["a"],VCardText:b["c"],VCol:w["a"],VImg:y["a"],VRow:O["a"]});var S={components:{HomeCard:n["a"],SelfHeader:$},created:function(){var t=this;if(this.uid=parseInt(this.$route.params.user),this.uavatar=this.$route.params.avatar||"",this.uname=this.$route.params.name||"","number"!==typeof this.uid||isNaN(this.uid))this.$router.push("/");else{if(this.axios.get("/account/user/".concat(this.uid,"/")).then((function(e){var o=e.data.data.userinfo;t.uavatar=o.avatar,t.uname=o.user.username,t.followerNum=o.followerNum,t.followeeNum=o.followeeNum})).catch((function(e){t.$store.dispatch("updateAlter",{msg:"用户信息拉取失败, 请稍后重试",msgType:"error",msgShow:!0})})),this.auth&&this.user.userinfo.id!==this.uid){var e={follower:this.user.userinfo.id,followee:this.uid};this.axios.get("/fans/",{params:e}).then((function(e){0!==e.data.count&&(t.follow=!0,t.followid=e.data.results[0].id)})).catch((function(e){t.$store.dispatch("updateAlter",{msg:"获取数据失败",msgType:"error",msgShow:!0})}))}var o={page:1,page_size:99999999,userprofile:this.uid};this.axios.get("/card/",{params:o}).then((function(e){var o=e.data;t.count=o.count,t.next=o.next,t.previous=o.previous,t.cards=o.results})).catch((function(e){t.$store.dispatch("updateAlter",{msg:"查看失败, 请稍后重试",msgType:"error",msgShow:!0})}))}},data:function(){return{uid:null,uavatar:"",uname:"",followid:null,follow:!1,followerNum:0,followeeNum:0,count:null,next:null,previous:null,cards:[],homecardsItems:[{id:1,pic:"http://photos.breadtrip.com/photo_2019_10_15_a62a735bac66d94567b709f570194f92.jpg?imageView/1/w/640/h/480/q/85",title:"🇺🇸新墨西哥州Albuquerque# 浪漫的热气球节和似雪的白色沙滩🎈",date:"2019.10.1   9025浏览",userprofile:{id:1,avatar:"https://api.adorable.io/avatars/200/asfdafasdf.png",username:"小一爱客随"}}]}},computed:x({},Object(s["b"])(["auth","user"])),methods:{followyou:function(){var t=this;if(this.auth)if(this.follow){var e={Authorization:"jwt ".concat(this.$store.state.user.token)};this.axios.delete("/fans/".concat(this.followid,"/"),{headers:e}).then((function(e){t.follow=!1,t.followid=null,t.followerNum-=1})).catch((function(e){t.$store.dispatch("updateAlter",{msg:"关注取消失败",msgType:"error",msgShow:!0})}))}else{var o={follower:this.user.userinfo.id,followee:this.uid},a={Authorization:"jwt ".concat(this.$store.state.user.token)};this.axios.post("/fans/",o,{headers:a}).then((function(e){t.followid=e.data.data,t.follow=!0,t.followerNum+=1})).catch((function(e){t.$store.dispatch("updateAlter",{msg:"关注失败",msgType:"error",msgShow:!0})}))}else this.$store.dispatch("updateAlter",{msg:"请先登录",msgType:"info",msgShow:!0})},enterfollower:function(){this.followerNum>0&&this.$router.push({name:"follow",params:{uid:this.uid,uname:this.uname,follow:!0}})},enterfollowee:function(){this.followeeNum>0&&this.$router.push({name:"follow",params:{uid:this.uid,uname:this.uname,follow:!1}})}}},C=S,N=o("4ca6"),B=Object(d["a"])(C,a,r,!1,null,null,null);e["default"]=B.exports;p()(B,{VBadge:N["a"],VCard:g["a"],VCardText:b["c"]})},ff44:function(t,e,o){}}]);
//# sourceMappingURL=chunk-78d00fd2.b2010ce5.js.map