(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c7e58"],{5326:function(t,s,e){"use strict";e.r(s);var r=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("v-card",{staticClass:"mx-3 mt-5"},[e("v-card-title",{staticClass:"d-flex justify-center"},[t._v("登录")]),e("v-card-text",[e("form",{attrs:{"lazy-validation":""}},[e("v-text-field",{attrs:{rounded:"",solo:"","append-icon":"mdi-account","error-messages":t.nameErrors,counter:10,label:"用户名",required:""},on:{blur:function(s){return t.$v.name.$touch()}},model:{value:t.name,callback:function(s){t.name="string"===typeof s?s.trim():s},expression:"name"}}),e("v-text-field",{attrs:{rounded:"",solo:"","error-messages":t.passwordErrors,"append-icon":t.showpassword?"mdi-eye":"mdi-eye-off",type:t.showpassword?"text":"password",label:"密码",required:""},on:{blur:function(s){return t.$v.password.$touch()},"click:append":function(s){t.showpassword=!t.showpassword}},model:{value:t.password,callback:function(s){t.password="string"===typeof s?s.trim():s},expression:"password"}}),e("v-row",[e("v-col",{staticClass:"d-flex justify-center"},[e("v-btn",{attrs:{block:"",rounded:"",color:"success"},on:{click:t.login}},[t._v("开始")])],1)],1),e("v-row",[e("v-col",{staticClass:"d-flex justify-space-between mb-6"},[e("v-card-actions",[e("v-btn",{attrs:{to:"/auth/register",text:"",color:"blue"}},[t._v("注册")])],1),e("v-card-actions",[e("v-btn",{attrs:{to:"",text:"",color:"blue"}},[t._v("找回密码")])],1)],1)],1)],1)])],1)},a=[],o=(e("b0c0"),e("1dce")),n=e("b5ae"),i=(e("e8ec"),{mixins:[o["validationMixin"]],validations:{name:{required:n["required"]},password:{required:n["required"]}},data:function(){return{name:"",password:"",showpassword:!1}},computed:{nameErrors:function(){var t=[];return this.$v.name.$dirty?(!this.$v.name.required&&t.push("用户名必填"),t):t},passwordErrors:function(){var t=[];return this.$v.password.$dirty?(!this.$v.password.required&&t.push("密码必填"),t):t}},methods:{login:function(){var t=this;this.$v.$touch(),this.$v.$error||this.$nextTick((function(){t.submit()}))},submit:function(){var t=this,s={username:this.name,password:this.password};this.axios.post("/account/login/",s).then((function(s){t.axios.defaults.headers.common["Authorization"]="JWT "+s.data.data.token,t.$store.dispatch("login",s.data.data)})).catch((function(s){"404"==s.response.status||"400"==s.response.status?(t.$store.dispatch("updateAlter",{msg:s.response.data.msg,msgType:"error",msgShow:!0}),t.timer=setTimeout((function(){t.$store.dispatch("updateAlter",{msgShow:!1})}),3300)):(t.$store.dispatch("updateAlter",{msg:"网络错误",msgType:"error",msgShow:!0}),t.timer=setTimeout((function(){t.$store.dispatch("updateAlter",{msgShow:!1})}),3300))}))},clear:function(){this.$v.$reset(),this.name="",this.password=""}}}),d=i,c=e("2877"),u=e("6544"),l=e.n(u),p=e("8336"),m=e("b0af"),h=e("99d9"),v=e("62ad"),w=e("0fd9"),f=e("8654"),$=Object(c["a"])(d,r,a,!1,null,null,null);s["default"]=$.exports;l()($,{VBtn:p["a"],VCard:m["a"],VCardActions:h["a"],VCardText:h["c"],VCardTitle:h["d"],VCol:v["a"],VRow:w["a"],VTextField:f["a"]})}}]);
//# sourceMappingURL=chunk-2d0c7e58.5e1cb845.js.map