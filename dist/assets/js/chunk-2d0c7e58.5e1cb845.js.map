{"version":3,"sources":["webpack:///./src/views/auth/Login.vue?ebce","webpack:///src/views/auth/Login.vue","webpack:///./src/views/auth/Login.vue?49ad","webpack:///./src/views/auth/Login.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","nameErrors","on","$event","$v","name","$touch","model","value","callback","$$v","trim","expression","passwordErrors","showpassword","password","login","staticRenderFns","component","VBtn","VCard","VCardActions","VCardText","VCardTitle","VCol","VRow","VTextField"],"mappings":"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","file":"assets/js/chunk-2d0c7e58.5e1cb845.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"mx-3 mt-5\"},[_c('v-card-title',{staticClass:\"d-flex justify-center\"},[_vm._v(\"登录\")]),_c('v-card-text',[_c('form',{attrs:{\"lazy-validation\":\"\"}},[_c('v-text-field',{attrs:{\"rounded\":\"\",\"solo\":\"\",\"append-icon\":\"mdi-account\",\"error-messages\":_vm.nameErrors,\"counter\":10,\"label\":\"用户名\",\"required\":\"\"},on:{\"blur\":function($event){return _vm.$v.name.$touch()}},model:{value:(_vm.name),callback:function ($$v) {_vm.name=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"name\"}}),_c('v-text-field',{attrs:{\"rounded\":\"\",\"solo\":\"\",\"error-messages\":_vm.passwordErrors,\"append-icon\":_vm.showpassword? 'mdi-eye' : 'mdi-eye-off',\"type\":_vm.showpassword? 'text':'password',\"label\":\"密码\",\"required\":\"\"},on:{\"blur\":function($event){return _vm.$v.password.$touch()},\"click:append\":function($event){_vm.showpassword = !_vm.showpassword}},model:{value:(_vm.password),callback:function ($$v) {_vm.password=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"password\"}}),_c('v-row',[_c('v-col',{staticClass:\"d-flex justify-center\"},[_c('v-btn',{attrs:{\"block\":\"\",\"rounded\":\"\",\"color\":\"success\"},on:{\"click\":_vm.login}},[_vm._v(\"开始\")])],1)],1),_c('v-row',[_c('v-col',{staticClass:\"d-flex justify-space-between mb-6\"},[_c('v-card-actions',[_c('v-btn',{attrs:{\"to\":\"/auth/register\",\"text\":\"\",\"color\":\"blue\"}},[_vm._v(\"注册\")])],1),_c('v-card-actions',[_c('v-btn',{attrs:{\"to\":\"\",\"text\":\"\",\"color\":\"blue\"}},[_vm._v(\"找回密码\")])],1)],1)],1)],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n   <v-card class=\"mx-3 mt-5\">\n       <v-card-title class=\"d-flex justify-center\">登录</v-card-title>\n\n       <v-card-text> \n        <form\n        lazy-validation\n        >\n            <v-text-field\n            rounded\n               solo\n                append-icon='mdi-account'\n                v-model.trim=\"name\"\n                :error-messages=\"nameErrors\"\n                :counter=\"10\"\n                label=\"用户名\"\n                required\n                @blur=\"$v.name.$touch()\"\n            ></v-text-field>\n\n            <v-text-field\n                rounded\n                solo\n                v-model.trim=\"password\"\n                :error-messages=\"passwordErrors\"\n                :append-icon=\"showpassword? 'mdi-eye' : 'mdi-eye-off'\"\n                :type=\"showpassword? 'text':'password'\"\n                label=\"密码\"\n                required\n                @blur=\"$v.password.$touch()\"\n                @click:append='showpassword = !showpassword'\n            ></v-text-field>\n\n            <v-row>\n                <v-col class=\"d-flex justify-center\">\n                    <v-btn  block rounded  color=\"success\" @click=\"login\">开始</v-btn>\n                </v-col>\n            </v-row>\n            <v-row>\n                <v-col class=\"d-flex justify-space-between mb-6\">\n                    <v-card-actions> <v-btn to='/auth/register' text color=\"blue\">注册</v-btn></v-card-actions>\n                    <v-card-actions> <v-btn to='' text color=\"blue\">找回密码</v-btn></v-card-actions>\n                </v-col>\n            </v-row>\n                \n        </form>\n     </v-card-text>\n\n   </v-card>\n   \n\n</template>\n\n<script>\n  import { validationMixin } from 'vuelidate'\n  import { required } from 'vuelidate/lib/validators'\n  import ls from '@/utils/localStorage'\n\n\n  export default {\n\n    mixins: [validationMixin],\n\n    validations: {\n      name: { required },\n      password: {required },\n    },\n\n    data: () => ({\n      name: '',\n      password:'',\n      showpassword:false,\n    }),\n    computed: {\n      nameErrors () {\n        const errors = []\n        if (!this.$v.name.$dirty) return errors    \n        !this.$v.name.required && errors.push('用户名必填')\n        return errors\n      },\n      passwordErrors(){\n        const errors = []\n        if(!this.$v.password.$dirty) return errors    \n        !this.$v.password.required && errors.push('密码必填')\n        return errors\n      },\n    },\n    methods:{\n       login(){ \n          this.$v.$touch()\n          if(!this.$v.$error)\n               this.$nextTick(()=>{\n                  this.submit()\n           })  \n       },\n       submit(){\n\n          const user = {\n             username: this.name,\n             password: this.password,\n          }\n          this.axios.post('/account/login/', user).then((response) => {\n              this.axios.defaults.headers.common['Authorization'] = 'JWT '+ response.data.data.token\n              this.$store.dispatch('login', response.data.data)\n          }).catch( (error) => {\n              if(error.response.status=='404' || error.response.status=='400'){\n                this.$store.dispatch('updateAlter',{msg:error.response.data.msg, msgType:'error', msgShow:true})\n                this.timer = setTimeout(() => {this.$store.dispatch('updateAlter',{msgShow:false}) }, 3300)\n              }else{\n                this.$store.dispatch('updateAlter',{msg:'网络错误', msgType:'error', msgShow:true})\n                this.timer = setTimeout(() => {this.$store.dispatch('updateAlter',{msgShow:false}) }, 3300)\n              }\n          });\n          \n       },\n       clear () {\n        this.$v.$reset()\n        this.name = ''\n        this.password = ''\n      },\n    }\n\n}\n</script>\n\n<style>\n\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=ff2f2a44&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VCol,VRow,VTextField})\n"],"sourceRoot":""}